@inject NavigationManager Nav

<nav class="nw-nav" style="margin-bottom:16px">
    <div class="nw-container">
        <div class="nw-primary">
            <div class="nw-links @(isOpen ? "open" : null)">
                @if (Left is not null)
                {
                    <ul class="nw-left">
                        @foreach (var item in Left)
                        {
                            <li><NavLink class="nw-link" href="@item.Href" Match="NavLinkMatch.All">@item.Text</NavLink></li>
                        }
                    </ul>
                }

                @if (RightContent is null && Right is not null)
                {
                    <ul class="nw-right">
                        @foreach (var item in Right)
                        {
                            <li><NavLink class="nw-link" href="@item.Href">@item.Text</NavLink></li>
                        }
                    </ul>
                }
            </div>

            <button class="nw-burger"
                    type="button"
                    @onclick="ToggleMenu"
                    aria-label="Toggle menu"
                    aria-expanded="@isOpen">
                <span></span><span></span><span></span>
            </button>
        </div>

        @if (RightContent is not null)
        {
            <div class="nw-profile-slot">
                @RightContent
            </div>
        }
    </div>
</nav>

@code {
    [Parameter] public string? Brand { get; set; } = "YourBrand";
    [Parameter] public string BrandHref { get; set; } = "/";

    // Left side buttons (e.g., Home / Forum / Devlog)
    [Parameter] public IEnumerable<NavLinkItem>? Left { get; set; }

    // Right side buttons (e.g., Register / Login) – simple case
    [Parameter] public IEnumerable<NavLinkItem>? Right { get; set; }

    // Optional advanced: supply custom UI (e.g., profile dropdown) instead of Right items
    [Parameter] public RenderFragment? RightContent { get; set; }

    private bool isOpen;

    private void ToggleMenu()
    {
        isOpen = !isOpen;
    }
}
